---
interface Props {
  publishDate: Date;
  updatedDate?: Date;
  author: string;
  readingTime: number;
  tags: string[];
}

const { publishDate, updatedDate, author, readingTime, tags } = Astro.props;

const formatDate = (date: Date) => {
  return new Intl.DateTimeFormat('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  }).format(date);
};
---

<div class="post-meta">
  <div class="meta-row">
    <div class="meta-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
      <time datetime={publishDate.toISOString()}>
        {formatDate(publishDate)}
      </time>
      {updatedDate && (
        <span class="updated">
          (Updated: <time datetime={updatedDate.toISOString()}>{formatDate(updatedDate)}</time>)
        </span>
      )}
    </div>
    
    <div class="meta-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <polyline points="12 6 12 12 16 14"></polyline>
      </svg>
      <span>{readingTime} min read</span>
    </div>
    
    <div class="meta-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      <span>{author}</span>
    </div>
  </div>
</div>

<style lang="scss">
  @use '../styles/variables' as *;
  
  .post-meta {
    color: $color-text-secondary;
    font-size: $font-size-sm;
  }
  
  .meta-row {
    display: flex;
    flex-wrap: wrap;
    gap: $space-4;
  }
  
  .meta-item {
    display: flex;
    align-items: center;
    gap: $space-2;
    
    svg {
      flex-shrink: 0;
      opacity: 0.6;
    }
  }
  
  .updated {
    color: $color-text-tertiary;
    font-size: $font-size-xs;
  }
</style>
