/* Base Styles ======================================= */

// Reset/Normalize
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  background-color: $color-off-white;
  color: $color-darkest-gray;
  overflow-x: hidden;
}

// Remove default margins from headings and paragraphs
h1, h2, h3, h4, h5, h6, p, ul, ol, blockquote {
  margin: 0;
}

// Image and media
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}

input, button, textarea, select {
  font: inherit;
}

button {
  border: none;
  background: none;
  cursor: pointer;
}

a {
  color: inherit;
  text-decoration: none;
}

// List styles
ul, ol {
  list-style: none;
  padding: 0;
  margin: 0;
}

// Form elements
input, textarea, select {
  width: 100%;
  border: 1px solid $color-light-gray;
  border-radius: $border-radius;
  padding: $space-3;
  
  &:focus {
    outline: none;
    border-color: $color-primary;
    box-shadow: 0 0 0 3px rgba($color-primary, 0.1);
  }
}

// Button styles
button, .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: $space-3 $space-4;
  font-family: inherit;
  font-size: $font-size-base;
  font-weight: $font-weight-medium;
  line-height: 1;
  text-decoration: none;
  white-space: nowrap;
  vertical-align: middle;
  cursor: pointer;
  user-select: none;
  border: 1px solid transparent;
  border-radius: $border-radius;
  background-color: transparent;
  color: $color-darkest-gray;
  transition: all $transition-fast;
  
  &:hover {
    transform: translateY(-1px);
    box-shadow: $shadow-md;
  }
  
  &:active {
    transform: translateY(0);
  }
  
  &:focus {
    outline: 2px solid $color-primary;
    outline-offset: 2px;
  }
  
  &:disabled {
    opacity: 0.65;
    cursor: not-allowed;
    transform: none;
  }
}

// Button variants
.btn-primary {
  @include button-variant($color-white, $color-primary);
}

.btn-secondary {
  @include button-variant($color-white, $color-secondary);
}

.btn-outline {
  @include button-variant($color-primary, transparent, $color-primary);
  
  &:hover {
    background-color: $color-primary;
    color: $color-white;
  }
}

.btn-success {
  @include button-variant($color-white, $color-success);
}

.btn-warning {
  @include button-variant($color-white, $color-warning);
}

.btn-error {
  @include button-variant($color-white, $color-error);
}

.btn-info {
  @include button-variant($color-white, $color-info);
}

// Button sizes
.btn-sm {
  padding: $space-2 $space-3;
  font-size: $font-size-sm;
}

.btn-lg {
  padding: $space-4 $space-6;
  font-size: $font-size-lg;
}

.btn-xl {
  padding: $space-6 $space-8;
  font-size: $font-size-xl;
}

// Loading state
.btn-loading {
  position: relative;
  color: transparent;
  
  &::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 1em;
    height: 1em;
    margin: -0.5em;
    border: 2px solid currentColor;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s linear infinite;
  }
}

// Selection
::selection {
  background-color: rgba($color-primary, 0.2);
}

::-moz-selection {
  background-color: rgba($color-primary, 0.2);
}

// Focus styles
:focus-visible {
  outline: 2px solid $color-primary;
  outline-offset: 2px;
}

// Scrollbar styling
html {
  @include custom-scrollbar(8px, $color-lightest-gray, $color-medium-gray);
}

// Accessibility
.sr-only {
  @include sr-only;
}

// Skip to content
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 6px;
  background: $color-primary;
  color: $color-white;
  padding: 8px;
  border-radius: $border-radius;
  text-decoration: none;
  z-index: 9999;
  
  &:focus {
    top: 6px;
  }
}

// Print styles
@media print {
  *,
  *::before,
  *::after {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  a,
  a:visited {
    text-decoration: underline;
  }
  
  a[href]::after {
    content: " (" attr(href) ")";
  }
  
  abbr[title]::after {
    content: " (" attr(title) ")";
  }
  
  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }
  
  thead {
    display: table-header-group;
  }
  
  tr,
  img {
    page-break-inside: avoid;
  }
  
  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }
  
  h2,
  h3 {
    page-break-after: avoid;
  }
}

// Utility classes
.visually-hidden {
  @include sr-only;
}

.container {
  @include container();
}

.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}

.text-right {
  text-align: right;
}

.d-none {
  display: none;
}

.d-block {
  display: block;
}

.d-flex {
  display: flex;
}

.d-inline {
  display: inline;
}

.d-inline-block {
  display: inline-block;
}

.w-full {
  width: 100%;
}

.h-full {
  height: 100%;
}

.relative {
  position: relative;
}

.absolute {
  position: absolute;
}

.fixed {
  position: fixed;
}

// Margin and padding utilities
@for $i from 0 through 8 {
  .m-#{$i} { margin: #{$i * 0.25}rem; }
  .mx-#{$i} { margin-left: #{$i * 0.25}rem; margin-right: #{$i * 0.25}rem; }
  .my-#{$i} { margin-top: #{$i * 0.25}rem; margin-bottom: #{$i * 0.25}rem; }
  .mt-#{$i} { margin-top: #{$i * 0.25}rem; }
  .mr-#{$i} { margin-right: #{$i * 0.25}rem; }
  .mb-#{$i} { margin-bottom: #{$i * 0.25}rem; }
  .ml-#{$i} { margin-left: #{$i * 0.25}rem; }
  
  .p-#{$i} { padding: #{$i * 0.25}rem; }
  .px-#{$i} { padding-left: #{$i * 0.25}rem; padding-right: #{$i * 0.25}rem; }
  .py-#{$i} { padding-top: #{$i * 0.25}rem; padding-bottom: #{$i * 0.25}rem; }
  .pt-#{$i} { padding-top: #{$i * 0.25}rem; }
  .pr-#{$i} { padding-right: #{$i * 0.25}rem; }
  .pb-#{$i} { padding-bottom: #{$i * 0.25}rem; }
  .pl-#{$i} { padding-left: #{$i * 0.25}rem; }
}

// Font weight utilities
.font-light { font-weight: 300; }
.font-normal { font-weight: 400; }
.font-medium { font-weight: 500; }
.font-semibold { font-weight: 600; }
.font-bold { font-weight: 700; }

// Color utilities
.text-primary { color: $color-primary; }
.text-secondary { color: $color-secondary; }
.text-muted { color: $color-medium-gray; }
.text-success { color: $color-success; }
.text-warning { color: $color-warning; }
.text-error { color: $color-error; }

// Background utilities
.bg-white { background-color: $color-white; }
.bg-light { background-color: $color-lightest-gray; }
.bg-primary { background-color: $color-primary; }
.bg-secondary { background-color: $color-secondary; }

// Border utilities
.border { border: 1px solid $color-light-gray; }
.border-top { border-top: 1px solid $color-light-gray; }
.border-bottom { border-bottom: 1px solid $color-light-gray; }
.border-0 { border: none; }

// Border radius utilities
.rounded { border-radius: $border-radius; }
.rounded-sm { border-radius: $border-radius-sm; }
.rounded-lg { border-radius: $border-radius-lg; }
.rounded-full { border-radius: $border-radius-full; }

// Shadow utilities
.shadow { box-shadow: $shadow; }
.shadow-sm { box-shadow: $shadow-sm; }
.shadow-md { box-shadow: $shadow-md; }
.shadow-lg { box-shadow: $shadow-lg; }
.shadow-xl { box-shadow: $shadow-xl; }
.shadow-none { box-shadow: none; }

// Grid utilities
.grid {
  display: grid;
}

.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
.grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
.grid-cols-12 { grid-template-columns: repeat(12, minmax(0, 1fr)); }

.gap-1 { gap: 0.25rem; }
.gap-2 { gap: 0.5rem; }
.gap-4 { gap: 1rem; }
.gap-6 { gap: 1.5rem; }
.gap-8 { gap: 2rem; }

// Flexbox utilities
.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-row { flex-direction: row; }
.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }

.items-start { align-items: flex-start; }
.items-center { align-items: center; }
.items-end { align-items: flex-end; }

.justify-start { justify-content: flex-start; }
.justify-center { justify-content: center; }
.justify-end { justify-content: flex-end; }
.justify-between { justify-content: space-between; }
.justify-around { justify-content: space-around; }

// Position utilities
.relative { position: relative; }
.absolute { position: absolute; }
.fixed { position: fixed; }
.sticky { position: sticky; }

// Display utilities
.hidden { display: none; }
.block { display: block; }
.inline { display: inline; }
.inline-block { display: inline-block; }
.flex { display: flex; }
.grid { display: grid; }

// Overflow utilities
.overflow-hidden { overflow: hidden; }
.overflow-auto { overflow: auto; }
.overflow-scroll { overflow: scroll; }

// Z-index utilities
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-30 { z-index: 30; }
.z-40 { z-index: 40; }
.z-50 { z-index: 50; }
