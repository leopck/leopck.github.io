/* Typography ======================================= */

// Base typography
body {
  font-family: $font-family-sans;
  font-size: $font-size-base;
  font-weight: $font-weight-normal;
  line-height: $line-height-normal;
  color: $color-darkest-gray;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Headings
h1, h2, h3, h4, h5, h6 {
  font-weight: $font-weight-bold;
  line-height: $line-height-tight;
  color: $color-darkest-gray;
  margin-top: 0;
  margin-bottom: $space-4;
}

h1 { @include heading(h1); }
h2 { @include heading(h2); }
h3 { @include heading(h3); }
h4 { @include heading(h4); }
h5 { @include heading(h5); }
h6 { @include heading(h6); }

// Paragraphs
p {
  margin-top: 0;
  margin-bottom: $space-4;
  line-height: $line-height-relaxed;
  
  &:last-child {
    margin-bottom: 0;
  }
}

// Links
a {
  color: $color-primary;
  text-decoration: none;
  transition: color $transition-fast;
  
  &:hover {
    color: darken($color-primary, 15%);
    text-decoration: underline;
  }
  
  &:focus {
    outline: 2px solid $color-primary;
    outline-offset: 2px;
  }
}

// Lists
ul, ol {
  margin-top: 0;
  margin-bottom: $space-4;
  padding-left: $space-6;
  
  li {
    margin-bottom: $space-1;
    line-height: $line-height-relaxed;
  }
}

ul ul, ol ol, ul ol, ol ul {
  margin-top: $space-2;
  margin-bottom: $space-2;
}

// Definition lists
dl {
  margin-top: 0;
  margin-bottom: $space-4;
  
  dt {
    font-weight: $font-weight-semibold;
    color: $color-darkest-gray;
    margin-bottom: $space-2;
  }
  
  dd {
    margin-bottom: $space-4;
    margin-left: 0;
    color: $color-dark-gray;
  }
}

// Blockquotes
blockquote {
  margin: 0 0 $space-4 0;
  padding: $space-4 $space-6;
  border-left: 4px solid $color-primary;
  background-color: $color-lightest-gray;
  border-radius: 0 $border-radius $border-radius 0;
  font-style: italic;
  color: $color-dark-gray;
  
  p:last-child {
    margin-bottom: 0;
  }
  
  cite {
    font-style: normal;
    font-weight: $font-weight-medium;
    color: $color-medium-gray;
  }
}

// Code and preformatted text
code {
  font-family: $font-family-mono;
  font-size: 0.875em;
  font-weight: $font-weight-normal;
  color: $color-code-text;
  background-color: $color-code-bg;
  padding: 0.125rem 0.25rem;
  border-radius: $border-radius-sm;
  border: 1px solid $color-code-border;
}

pre {
  margin: 0 0 $space-4 0;
  padding: $space-4;
  background-color: $color-darkest-gray;
  color: $color-off-white;
  border-radius: $border-radius;
  overflow-x: auto;
  @include custom-scrollbar(6px, #2a2a2a, #555);
  
  code {
    padding: 0;
    background-color: transparent;
    color: inherit;
    border: none;
    border-radius: 0;
    font-size: $font-size-sm;
  }
}

// Inline code highlighting styles
code[class*="language-"],
pre[class*="language-"] {
  font-family: $font-family-mono;
  font-size: $font-size-sm;
  direction: ltr;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;
  tab-size: 4;
  hyphens: none;
}

/* Syntax highlighting themes */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #6272a4;
}

.token.punctuation {
  color: #f8f8f2;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
  color: #ff79c6;
}

.token.boolean,
.token.number {
  color: #bd93f9;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #f1fa8c;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
  color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
  color: #50fa7b;
}

.token.keyword {
  color: #8be9fd;
}

.token.regex,
.token.important {
  color: #ff5555;
}

.token.important,
.token.bold {
  font-weight: $font-weight-bold;
}

.token.italic {
  font-style: italic;
}

// Tables
table {
  width: 100%;
  margin-bottom: $space-6;
  border-collapse: collapse;
  background-color: $color-white;
  
  th,
  td {
    padding: $space-3 $space-4;
    text-align: left;
    border-bottom: 1px solid $color-light-gray;
    vertical-align: top;
  }
  
  th {
    font-weight: $font-weight-semibold;
    color: $color-darkest-gray;
    background-color: $color-lightest-gray;
    border-bottom: 2px solid $color-light-gray;
  }
  
  tr:hover {
    background-color: $color-lightest-gray;
  }
  
  tr:last-child td {
    border-bottom: none;
  }
}

// Horizontal rules
hr {
  height: 1px;
  margin: $space-8 0;
  background-color: $color-light-gray;
  border: none;
}

// Images
img {
  max-width: 100%;
  height: auto;
  border-radius: $border-radius;
  box-shadow: $shadow-sm;
}

// Figures and captions
figure {
  margin: 0 0 $space-4 0;
  
  img {
    border-radius: $border-radius;
  }
  
  figcaption {
    margin-top: $space-2;
    font-size: $font-size-sm;
    color: $color-medium-gray;
    text-align: center;
    font-style: italic;
  }
}

// Strong and emphasis
strong, b {
  font-weight: $font-weight-bold;
  color: $color-darkest-gray;
}

em, i {
  font-style: italic;
}

// Small text
small {
  font-size: $font-size-sm;
  color: $color-medium-gray;
}

// Subscript and superscript
sub, sup {
  font-size: $font-size-xs;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

// Abbreviations
abbr[title] {
  text-decoration: none;
  border-bottom: 1px dotted $color-medium-gray;
  cursor: help;
}

// Keyboard input
kbd {
  font-family: $font-family-mono;
  font-size: $font-size-xs;
  padding: $space-1 $space-2;
  background-color: $color-lightest-gray;
  border: 1px solid $color-light-gray;
  border-bottom-width: 2px;
  border-radius: $border-radius-sm;
  color: $color-dark-gray;
}

// Preformatted text
pre {
  white-space: pre;
  overflow-x: auto;
}

// Mark/highlighted text
mark {
  background-color: lighten($color-warning, 35%);
  color: $color-darkest-gray;
  padding: 0.125rem 0.25rem;
  border-radius: $border-radius-sm;
}

// Address
address {
  margin-bottom: $space-4;
  font-style: normal;
  line-height: $line-height-relaxed;
  color: $color-dark-gray;
}

// Quote styling
q {
  quotes: "“" "”" "‘" "’";
  
  &::before {
    content: open-quote;
  }
  
  &::after {
    content: close-quote;
  }
}

// Selection
::selection {
  background-color: rgba($color-primary, 0.2);
  color: $color-darkest-gray;
}

// Text size utilities
.text-xs { font-size: $font-size-xs; }
.text-sm { font-size: $font-size-sm; }
.text-base { font-size: $font-size-base; }
.text-lg { font-size: $font-size-lg; }
.text-xl { font-size: $font-size-xl; }
.text-2xl { font-size: $font-size-2xl; }
.text-3xl { font-size: $font-size-3xl; }
.text-4xl { font-size: $font-size-4xl; }
.text-5xl { font-size: $font-size-5xl; }

// Text weight utilities
.font-light { font-weight: $font-weight-light; }
.font-normal { font-weight: $font-weight-normal; }
.font-medium { font-weight: $font-weight-medium; }
.font-semibold { font-weight: $font-weight-semibold; }
.font-bold { font-weight: $font-weight-bold; }

// Text alignment utilities
.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-justify { text-align: justify; }

// Line height utilities
.leading-tight { line-height: $line-height-tight; }
.leading-snug { line-height: $line-height-snug; }
.leading-normal { line-height: $line-height-normal; }
.leading-relaxed { line-height: $line-height-relaxed; }
.leading-loose { line-height: $line-height-loose; }

// Color utilities
.text-primary { color: $color-primary; }
.text-secondary { color: $color-secondary; }
.text-success { color: $color-success; }
.text-warning { color: $color-warning; }
.text-error { color: $color-error; }
.text-info { color: $color-info; }
.text-muted { color: $color-medium-gray; }
.text-dark { color: $color-dark-gray; }
.text-light { color: $color-dark-gray; }

// Responsive text sizes
@include respond-to(md) {
  .md\:text-sm { font-size: $font-size-sm; }
  .md\:text-base { font-size: $font-size-base; }
  .md\:text-lg { font-size: $font-size-lg; }
  .md\:text-xl { font-size: $font-size-xl; }
  .md\:text-2xl { font-size: $font-size-2xl; }
  .md\:text-3xl { font-size: $font-size-3xl; }
  .md\:text-4xl { font-size: $font-size-4xl; }
}

// Post content specific styles
.post-content {
  font-size: $font-size-lg;
  line-height: $line-height-relaxed;
  
  h1, h2, h3, h4, h5, h6 {
    margin-top: $space-8;
    margin-bottom: $space-4;
    
    &:first-child {
      margin-top: 0;
    }
  }
  
  p {
    margin-bottom: $space-4;
    
    &.lead {
      font-size: $font-size-xl;
      font-weight: $font-weight-light;
      color: $color-dark-gray;
      margin-bottom: $space-6;
    }
  }
  
  ul, ol {
    padding-left: $space-8;
    margin-bottom: $space-6;
    
    li {
      margin-bottom: $space-2;
    }
  }
  
  blockquote {
    margin: $space-8 0;
  }
  
  pre {
    margin: $space-6 0;
  }
  
  table {
    margin: $space-6 0;
    font-size: $font-size-sm;
  }
}
